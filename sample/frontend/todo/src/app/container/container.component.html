<div class="row row-cols-2">
  <!-- Iterate through todos -->
  <div class="col mt-3" *ngFor="let todo of todos; let i = index">
    <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between">
          <h5 class="card-title">{{ todo.title }}</h5>
          <!-- Delete button -->
          <svg (click)="deleteTodo(i)" style="height:20px; width:20px;cursor:pointer;"
               xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path d="M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9z"/>
          </svg>
        </div>
        <p class="card-text">{{ todo.desc }}</p>
        <!-- View/Edit button -->
        <a (click)="showTodo(i)" class="btn btn-primary">View Details</a>
      </div>
    </div>
  </div>

  <!-- Fallback if no data -->
  <div *ngIf="todos.length === 0" class="col-sm-12 text-center">
    <p>No Todos Available</p>
  </div>
</div>

<!-- Modal for editing -->
<div *ngIf="editModal" class="modal" style="display:block;" tabindex="-1" aria-labelledby="exampleModalLabel">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <form>
        <div class="modal-header">
          <input [(ngModel)]="title" name="title" class="form-control m-3 modal-title fs-5" id="title" placeholder="Enter title"/>
          <button (click)="closeModal()" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- Pre-filled description -->
        <input [(ngModel)]="desc" name="desc" class="form-control m-3" style="width:90%" id="body" placeholder="Enter description"/>

        <div class="modal-footer">
          <button (click)="closeModal()" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button (click)="editTodo()" type="button" class="btn btn-primary">Save changes</button>
        </div>
      </form>
    </div>
  </div>
</div>
